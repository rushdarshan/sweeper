<Page x:Class="ScreenshotSweeper.Views.SettingsTab"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      mc:Ignorable="d"
      Title="Settings"
      Background="#151515"
      Foreground="#FFFFFF"
      ScrollViewer.VerticalScrollBarVisibility="Auto">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <StackPanel Margin="24,20,24,0">
            
                <!-- Page Header -->
                <TextBlock Text="Settings" 
                           FontSize="24" 
                           FontWeight="Bold"
                           Foreground="#FFFFFF"
                           Margin="0,0,0,4"/>
                <TextBlock Text="Customize app behavior and notifications"
                           FontSize="13"
                           Foreground="#6c7086"
                           Margin="0,0,0,20"/>

                <!-- MONITORING CARD - Highest Priority with softer accent border -->
                <Border x:Name="MonitoringCard" Background="#1E1E2E" CornerRadius="10" Margin="0,0,0,16" BorderBrush="#4da6e3a1" BorderThickness="1">
                    <StackPanel Margin="18">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,14">
                            <Border Background="#313244" CornerRadius="8" Padding="10" Margin="0,0,12,0">
                                <ui:SymbolIcon Symbol="Eye24" FontSize="22" Foreground="#a6e3a1"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="Monitoring" FontSize="15" FontWeight="Bold" Foreground="#FFFFFF"/>
                                <TextBlock Text="Control active monitoring" FontSize="11" Foreground="#6c7086"/>
                            </StackPanel>
                        </StackPanel>

                        <Border Background="#313244" CornerRadius="8" Padding="14">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Orientation="Horizontal">
                                    <Border Width="10" Height="10" CornerRadius="5" Background="#a6e3a1" Margin="0,0,10,0" VerticalAlignment="Center"/>
                                    <TextBlock x:Name="StatusLabel" Text="Monitoring Active" Foreground="#a6e3a1" FontWeight="Bold" FontSize="13" VerticalAlignment="Center"/>
                                </StackPanel>
                                <Button x:Name="ToggleMonitoringBtn" 
                                        Grid.Column="1"
                                        Content="Pause" 
                                        Click="ToggleMonitoring"
                                        Background="Transparent"
                                        Foreground="#cdd6f4"
                                        BorderBrush="#45475a"
                                        BorderThickness="1"
                                        Padding="18,8"
                                        FontWeight="SemiBold"/>
                            </Grid>
                        </Border>
                    </StackPanel>
                </Border>

                <!-- STARTUP CARD - Medium Priority -->
                <Border Background="#1E1E2E" CornerRadius="10" Margin="0,0,0,16">
                    <StackPanel Margin="18">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,14">
                            <Border Background="#313244" CornerRadius="8" Padding="10" Margin="0,0,12,0">
                                <ui:SymbolIcon Symbol="Power24" FontSize="20" Foreground="#89b4fa"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="Startup" FontSize="15" FontWeight="SemiBold" Foreground="#FFFFFF"/>
                                <TextBlock Text="Configure startup behavior" FontSize="11" Foreground="#6c7086"/>
                            </StackPanel>
                        </StackPanel>

                        <StackPanel>
                            <Border Background="#313244" CornerRadius="8" Padding="14" Margin="0,0,0,8">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <ui:ToggleSwitch x:Name="LaunchOnStartup" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,14,0"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <TextBlock Text="Launch on Windows startup" Foreground="#cdd6f4" FontWeight="Medium" FontSize="13"/>
                                        <TextBlock Text="Start when Windows boots" Foreground="#6c7086" FontSize="11" Margin="0,2,0,0"/>
                                    </StackPanel>
                                </Grid>
                            </Border>
                            
                            <Border Background="#313244" CornerRadius="8" Padding="14" Margin="0,0,0,8">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <ui:ToggleSwitch x:Name="StartMinimized" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,14,0"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <TextBlock Text="Start minimized" Foreground="#cdd6f4" FontWeight="Medium" FontSize="13"/>
                                        <TextBlock Text="Open in system tray" Foreground="#6c7086" FontSize="11" Margin="0,2,0,0"/>
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <Border Background="#313244" CornerRadius="8" Padding="14">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <ui:ToggleSwitch x:Name="ShowInTaskbar" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,14,0"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <TextBlock Text="Show in taskbar" Foreground="#cdd6f4" FontWeight="Medium" FontSize="13"/>
                                        <TextBlock Text="Keep taskbar icon when minimized" Foreground="#6c7086" FontSize="11" Margin="0,2,0,0"/>
                                    </StackPanel>
                                </Grid>
                            </Border>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- NOTIFICATIONS CARD - Lowest Priority (subtle) -->
                <Border Background="#181825" CornerRadius="10" Margin="0,0,0,20">
                    <StackPanel Margin="18">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,14">
                            <Border Background="#313244" CornerRadius="8" Padding="10" Margin="0,0,12,0">
                                <ui:SymbolIcon Symbol="Alert24" FontSize="18" Foreground="#6c7086"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="Notifications" FontSize="14" FontWeight="Medium" Foreground="#a6adc8"/>
                                <TextBlock Text="Alert preferences" FontSize="11" Foreground="#6c7086"/>
                            </StackPanel>
                        </StackPanel>

                        <StackPanel>
                            <Border Background="#1E1E2E" CornerRadius="8" Padding="14" Margin="0,0,0,6">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <ui:ToggleSwitch x:Name="ShowDetectionNotif" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,14,0"/>
                                    <TextBlock Grid.Column="1" Text="Screenshot detected" Foreground="#a6adc8" FontSize="12" VerticalAlignment="Center"/>
                                </Grid>
                            </Border>
                            
                            <Border Background="#1E1E2E" CornerRadius="8" Padding="14" Margin="0,0,0,6">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <ui:ToggleSwitch x:Name="ShowDeletionNotif" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,14,0"/>
                                    <TextBlock Grid.Column="1" Text="Screenshot deleted" Foreground="#a6adc8" FontSize="12" VerticalAlignment="Center"/>
                                </Grid>
                            </Border>
                            
                            <Border Background="#1E1E2E" CornerRadius="8" Padding="14">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <ui:ToggleSwitch x:Name="PlaySoundNotif" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,14,0"/>
                                    <TextBlock Grid.Column="1" Text="Sound alerts" Foreground="#a6adc8" FontSize="12" VerticalAlignment="Center"/>
                                </Grid>
                            </Border>
                        </StackPanel>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>
        
        <!-- FOOTER - Action Buttons with clear hierarchy -->
        <Border Grid.Row="1" Background="#1A1A2E" Padding="24,14" BorderThickness="0,1,0,0" BorderBrush="#313244">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Danger Action - Left -->
                <Button Grid.Column="0" Click="ClearTracked"
                        Background="#45263d"
                        Foreground="#f38ba8"
                        BorderThickness="1"
                        BorderBrush="#f38ba8"
                        Padding="16,10">
                    <StackPanel Orientation="Horizontal">
                        <ui:SymbolIcon Symbol="Delete24" FontSize="14" Margin="0,0,8,0" Foreground="#f38ba8"/>
                        <TextBlock Text="Clear Tracked" FontWeight="SemiBold"/>
                    </StackPanel>
                </Button>

                <!-- Status Message -->
                <TextBlock x:Name="SaveStatus" 
                           Grid.Column="1"
                           Text="" 
                           FontSize="13"
                           Foreground="#a6e3a1"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center"/>

                <!-- Primary/Secondary Actions - Right -->
                <StackPanel Grid.Column="2" Orientation="Horizontal">
                    <Button Click="ResetSettings"
                            Background="Transparent"
                            Foreground="#6c7086"
                            BorderThickness="0"
                            Padding="16,10"
                            Margin="0,0,10,0">
                        <StackPanel Orientation="Horizontal">
                            <ui:SymbolIcon Symbol="ArrowReset24" FontSize="14" Margin="0,0,6,0" Foreground="#6c7086"/>
                            <TextBlock Text="Reset"/>
                        </StackPanel>
                    </Button>
                    
                    <Button Click="SaveSettings"
                            Background="#a6e3a1"
                            Foreground="#1A1A1A"
                            BorderThickness="0"
                            Padding="20,10">
                        <StackPanel Orientation="Horizontal">
                            <ui:SymbolIcon Symbol="Save24" FontSize="14" Margin="0,0,8,0"/>
                            <TextBlock Text="Save Settings" FontWeight="Bold"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Page>
