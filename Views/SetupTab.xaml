<Page x:Class="ScreenshotSweeper.Views.SetupTab"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      xmlns:local="clr-namespace:ScreenshotSweeper.Views"
      mc:Ignorable="d" 
      d:DesignHeight="700" d:DesignWidth="900"
      Title="Setup"
      Background="#151515"
      Foreground="#FFFFFF"
      ScrollViewer.VerticalScrollBarVisibility="Auto">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <StackPanel Margin="24,20,24,0">
            
                <!-- Page Header -->
                <TextBlock Text="Setup" 
                           FontSize="24" 
                           FontWeight="Bold"
                           Foreground="#FFFFFF"
                           Margin="0,0,0,4"/>
                <TextBlock Text="Configure screenshot monitoring and auto-delete"
                           FontSize="13"
                           Foreground="#6c7086"
                           Margin="0,0,0,20"/>

                <!-- Screenshot Folder Card - Brightest (first priority) -->
                <Border Background="#22222E" CornerRadius="10" Margin="0,0,0,16">
                    <StackPanel Margin="18">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,14">
                            <Border Background="#313244" CornerRadius="8" Padding="10" Margin="0,0,12,0">
                                <ui:SymbolIcon Symbol="Folder24" FontSize="20" Foreground="#89b4fa"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="Screenshot Folder" FontSize="15" FontWeight="SemiBold" Foreground="#FFFFFF"/>
                                <TextBlock Text="Location to monitor for screenshots" FontSize="11" Foreground="#6c7086"/>
                            </StackPanel>
                        </StackPanel>
                        
                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <Border Background="#313244" CornerRadius="6" Padding="12,10" Margin="0,0,10,0" 
                                    ToolTipService.InitialShowDelay="200">
                                <Border.ToolTip>
                                    <TextBlock x:Name="FolderPathTooltip" Text="Full path"/>
                                </Border.ToolTip>
                                <TextBlock x:Name="FolderPathTextBox" 
                                           Text="Select a folder..."
                                           Foreground="#cdd6f4"
                                           VerticalAlignment="Center"
                                           TextTrimming="CharacterEllipsis"
                                           FontSize="13"/>
                            </Border>
                                     
                            <Button x:Name="BrowseButton" 
                                    Grid.Column="1" 
                                    Click="BrowseFolder"
                                    Background="#89b4fa"
                                    Foreground="#1A1A1A"
                                    BorderThickness="0"
                                    Padding="16,10"
                                    FontWeight="SemiBold">
                                <StackPanel Orientation="Horizontal">
                                    <ui:SymbolIcon Symbol="FolderOpen24" FontSize="14" Margin="0,0,6,0"/>
                                    <TextBlock Text="Browse"/>
                                </StackPanel>
                            </Button>
                        </Grid>
                        
                        <StackPanel Orientation="Horizontal">
                            <ui:SymbolIcon Symbol="Info16" FontSize="12" Foreground="#6c7086" Margin="0,0,6,0"/>
                            <TextBlock Text="This folder will be monitored for new screenshots" Foreground="#6c7086" FontSize="11"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Auto-Delete Timer Card - Normal (second priority) -->
                <Border Background="#1E1E2E" CornerRadius="10" Margin="0,0,0,16">
                    <StackPanel Margin="18">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,14">
                            <Border Background="#313244" CornerRadius="8" Padding="10" Margin="0,0,12,0">
                                <ui:SymbolIcon Symbol="Clock24" FontSize="20" Foreground="#f9e2af"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="Auto-Delete Timer" FontSize="15" FontWeight="SemiBold" Foreground="#FFFFFF"/>
                                <TextBlock Text="How long to keep screenshots" FontSize="11" Foreground="#6c7086"/>
                            </StackPanel>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                            <Border Background="#313244" CornerRadius="6" Padding="4" Margin="0,0,10,0">
                                <ui:NumberBox x:Name="DeleteTimeValue" 
                                              Width="100"
                                              Value="30" 
                                              SpinButtonPlacementMode="Compact"
                                              Minimum="1" 
                                              Maximum="999"
                                              Background="Transparent"
                                              BorderThickness="0"/>
                            </Border>
                            
                            <ComboBox x:Name="TimeUnitSelector" 
                                      Width="130"
                                      Background="#313244"
                                      BorderThickness="0">
                                <ComboBoxItem Content="Minutes" IsSelected="True"/>
                                <ComboBoxItem Content="Hours"/>
                                <ComboBoxItem Content="Days"/>
                            </ComboBox>
                        </StackPanel>
                        
                        <!-- Quick Presets - Pill style chips -->
                        <TextBlock Text="Quick Presets" FontWeight="Medium" Foreground="#6c7086" FontSize="12" Margin="0,0,0,10"/>
                        <WrapPanel>
                            <Border Background="#313244" CornerRadius="16" Margin="0,0,8,8" Cursor="Hand" MouseLeftButtonUp="SetPreset15Min">
                                <TextBlock Text="15 min" Foreground="#cdd6f4" FontSize="12" Padding="14,6"/>
                            </Border>
                            <Border Background="#313244" CornerRadius="16" Margin="0,0,8,8" Cursor="Hand" MouseLeftButtonUp="SetPreset30Min">
                                <TextBlock Text="30 min" Foreground="#cdd6f4" FontSize="12" Padding="14,6"/>
                            </Border>
                            <Border Background="#313244" CornerRadius="16" Margin="0,0,8,8" Cursor="Hand" MouseLeftButtonUp="SetPreset1Hour">
                                <TextBlock Text="1 hour" Foreground="#cdd6f4" FontSize="12" Padding="14,6"/>
                            </Border>
                            <Border Background="#313244" CornerRadius="16" Margin="0,0,8,8" Cursor="Hand" MouseLeftButtonUp="SetPreset3Days">
                                <TextBlock Text="3 days" Foreground="#cdd6f4" FontSize="12" Padding="14,6"/>
                            </Border>
                            <Border Background="#313244" CornerRadius="16" Margin="0,0,8,8" Cursor="Hand" MouseLeftButtonUp="PresetKeepForever">
                                <TextBlock Text="30 days" Foreground="#cdd6f4" FontSize="12" Padding="14,6"/>
                            </Border>
                        </WrapPanel>
                    </StackPanel>
                </Border>

                <!-- Keep Folder Card - Slightly darker (lowest priority) -->
                <Border Background="#1A1A26" CornerRadius="10" Margin="0,0,0,20">
                    <StackPanel Margin="18">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,14">
                            <Border Background="#313244" CornerRadius="8" Padding="10" Margin="0,0,12,0">
                                <ui:SymbolIcon Symbol="StarEmphasis24" FontSize="20" Foreground="#a6e3a1"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="Keep Folder" FontSize="15" FontWeight="SemiBold" Foreground="#FFFFFF"/>
                                <TextBlock Text="Files moved here are never deleted" FontSize="11" Foreground="#6c7086"/>
                            </StackPanel>
                        </StackPanel>
                        
                        <Border Background="#252530" CornerRadius="6" Padding="12,10" Margin="0,0,0,10">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock x:Name="KeepFolderTextBox" 
                                           Text="Auto-generated in screenshot folder"
                                           Foreground="#a6adc8"
                                           VerticalAlignment="Center"
                                           TextTrimming="CharacterEllipsis"
                                           FontSize="13"
                                           FontStyle="Italic"/>
                                <ui:SymbolIcon Grid.Column="1" Symbol="LockClosed16" FontSize="14" Foreground="#585b70" VerticalAlignment="Center" ToolTip="Read-only - Auto-generated"/>
                            </Grid>
                        </Border>
                        
                        <StackPanel Orientation="Horizontal">
                            <ui:SymbolIcon Symbol="Shield16" FontSize="12" Foreground="#a6e3a1" Margin="0,0,6,0"/>
                            <TextBlock Text="Protected from auto-deletion" Foreground="#a6e3a1" FontSize="11"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>

        <!-- FOOTER - Anchored Save Button -->
        <Border Grid.Row="1" Background="#1A1A2E" Padding="24,14" BorderThickness="0,1,0,0" BorderBrush="#313244">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock x:Name="StatusMessage" 
                           VerticalAlignment="Center" 
                           FontWeight="Medium"
                           FontSize="13"
                           Foreground="#a6e3a1"/>

                <Button x:Name="SaveButton" 
                        Grid.Column="1"
                        Click="SaveSettings"
                        Background="#a6e3a1"
                        Foreground="#1A1A1A"
                        BorderThickness="0"
                        Padding="24,12">
                    <StackPanel Orientation="Horizontal">
                        <ui:SymbolIcon Symbol="Save24" FontSize="14" Margin="0,0,8,0"/>
                        <TextBlock Text="Save Settings" FontWeight="Bold"/>
                    </StackPanel>
                </Button>
            </Grid>
        </Border>
    </Grid>
</Page>
