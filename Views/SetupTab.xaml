<Page x:Class="ScreenshotSweeper.Views.SetupTab"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      xmlns:local="clr-namespace:ScreenshotSweeper.Views"
      mc:Ignorable="d" 
      d:DesignHeight="601" d:DesignWidth="900"
      Title="Setup"
      Background="{DynamicResource ApplicationBackgroundBrush}"
      Foreground="{DynamicResource TextFillColorPrimaryBrush}">
      
    <!-- Setup Tab View - Corrected Structure -->
    <ScrollViewer Padding="40,20">
        <StackPanel MaxWidth="800" HorizontalAlignment="Left">
            
            <TextBlock Text="Setup - Configuration" 
                       FontSize="24" FontWeight="Bold"
                       Margin="0,0,0,24"/>

            <!-- Screenshot Folder Section -->
            <StackPanel Margin="0,0,0,24">
                <TextBlock Text="Screenshot Monitoring" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,8"/>
                <TextBlock Text="Folder Location" FontWeight="SemiBold" Margin="0,0,0,8"/>
                
                <Grid Margin="0,0,0,8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <ui:TextBox x:Name="FolderPathTextBox" 
                             Height="36"
                             VerticalContentAlignment="Center"
                             IsReadOnly="True" 
                             PlaceholderText="Select a folder..." 
                             Margin="0,0,12,0"/>
                             
                    <Button x:Name="BrowseButton" 
                            Grid.Column="1" 
                            Content="Browse..." 
                            Height="36"
                            Click="BrowseFolder" 
                            Padding="20,0"/>
                </Grid>
                
                <StackPanel Orientation="Horizontal">
                    <ui:SymbolIcon Symbol="Info24" FontSize="12" Margin="0,0,8,0" Foreground="Gray"/>
                    <TextBlock Text="This folder will be monitored for new screenshots." 
                               Foreground="Gray"/>
                </StackPanel>
            </StackPanel>

            <Separator Margin="0,0,0,24"/>

            <!-- Auto-Delete Timer Section -->
            <StackPanel Margin="0,0,0,24">
                <TextBlock Text="Auto-Delete Timer" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,8"/>
                
                <StackPanel Orientation="Horizontal">
                    <ui:NumberBox x:Name="DeleteTimeValue" 
                                  Width="120" 
                                  Height="36"
                                  Value="30" 
                                  SpinButtonPlacementMode="Compact"
                                  Minimum="1" 
                                  Maximum="999"
                                  Margin="0,0,12,0"/>
                    
                    <ComboBox x:Name="TimeUnitSelector" 
                              Width="150" 
                              Height="36">
                        <ComboBoxItem Content="Minutes" IsSelected="True"/>
                        <ComboBoxItem Content="Hours"/>
                        <ComboBoxItem Content="Days"/>
                    </ComboBox>
                </StackPanel>
            </StackPanel>

            <!-- Quick Presets -->
            <StackPanel Margin="0,0,0,24">
                <TextBlock Text="Quick Presets" FontWeight="SemiBold" Margin="0,0,0,12"/>
                
                <UniformGrid Columns="5" Rows="1" Height="36">
                    <Button x:Name="Preset15MinBtn" Content="15 Min" Click="SetPreset15Min" Margin="0,0,8,0"/>
                    <Button x:Name="Preset30MinBtn" Content="30 Min" Click="SetPreset30Min" Margin="0,0,8,0"/>
                    <Button x:Name="Preset1HourBtn" Content="1 Hour" Click="SetPreset1Hour" Margin="0,0,8,0"/>
                    <Button x:Name="Preset3DaysBtn" Content="3 Days" Click="SetPreset3Days" Margin="0,0,8,0"/>
                    <Button x:Name="PresetForeverBtn" Content="Keep Forever" Click="PresetKeepForever"/>
                </UniformGrid>
            </StackPanel>

            <Separator Margin="0,0,0,24"/>

            <!-- Keep Folder Section -->
            <StackPanel Margin="0,0,0,24">
                <TextBlock Text="Keep Folder Settings" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,8"/>
                <TextBlock Text="Location" FontWeight="SemiBold" Margin="0,0,0,8"/>
                
                <ui:TextBox x:Name="KeepFolderTextBox" 
                         Height="36"
                         IsReadOnly="True" 
                         PlaceholderText="Keep folder path..." 
                         VerticalContentAlignment="Center"
                         Margin="0,0,0,8"/>
                         
                <StackPanel Orientation="Horizontal">
                    <ui:SymbolIcon Symbol="Info24" FontSize="12" Margin="0,0,8,0" Foreground="Gray"/>
                    <TextBlock Text="Files moved here are never automatically deleted." 
                               Foreground="Gray"/>
                </StackPanel>
            </StackPanel>

            <!-- Save Button -->
            <StackPanel Orientation="Horizontal" Margin="0,12,0,0">
                <ui:Button x:Name="SaveButton" 
                        Content="Save Settings" 
                        Click="SaveSettings" 
                        Appearance="Primary"
                        Height="40"
                        Width="160"
                        FontSize="14"
                        Margin="0,0,16,0"/>
                        
                <TextBlock x:Name="StatusMessage" 
                           VerticalAlignment="Center" 
                           FontWeight="SemiBold"/>
            </StackPanel>
            
        </StackPanel>
    </ScrollViewer>
</Page>
